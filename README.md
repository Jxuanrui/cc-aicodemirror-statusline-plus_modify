# Claude Code çŠ¶æ€æ å¢å¼ºæ’ä»¶

è¿™æ˜¯ä¸€ä¸ªç”¨äº Claude Code çš„çŠ¶æ€æ å¢å¼ºæ’ä»¶ï¼Œå¯ä»¥åœ¨çŠ¶æ€æ æ˜¾ç¤º claudecode-cn.com çš„ç§¯åˆ†ä½™é¢ã€è®¡åˆ’ç±»å‹ã€å½“å‰æ¨¡å‹ã€Git åˆ†æ”¯çŠ¶æ€ç­‰ä¿¡æ¯ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼‰

**åªéœ€ 2 æ­¥ï¼Œ5 åˆ†é’Ÿå®Œæˆå®‰è£…ï¼š**

```bash
# æ­¥éª¤ 1: å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/cc-aicodemirror-statusline-plus.git
cd cc-aicodemirror-statusline-plus

# æ­¥éª¤ 2: è¿è¡Œä¸€é”®å®‰è£…å‘å¯¼
node setup.js
```

å®‰è£…å‘å¯¼ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰é…ç½®ï¼ŒåŒ…æ‹¬ï¼š
- âœ… æ£€æŸ¥ç¯å¢ƒå¹¶åˆ›å»ºç›®å½•
- âœ… è‡ªåŠ¨é…ç½® settings.json
- âœ… å¼•å¯¼è·å–å¹¶ä¿å­˜ Cookie
- âœ… è‡ªåŠ¨æµ‹è¯•è¿æ¥

**è¯¦ç»†æ­¥éª¤è¯·æŸ¥çœ‹ï¼š** [âš¡ å¿«é€Ÿå®‰è£…æŒ‡å—](./QUICK_SETUP.md)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ’ **ç§¯åˆ†æ˜¾ç¤º**ï¼šå®æ—¶æ˜¾ç¤º claudecode-cn.com ç§¯åˆ†ä½™é¢å’Œè®¡åˆ’ç±»å‹
- ğŸ¤– **æ¨¡å‹ä¿¡æ¯**ï¼šæ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„ Claude æ¨¡å‹ç‰ˆæœ¬
- ğŸ¨ **è¾“å‡ºé£æ ¼**ï¼šæ˜¾ç¤ºå½“å‰ Claude è¾“å‡ºé£æ ¼é…ç½®
- ğŸŒ¿ **Git é›†æˆ**ï¼šæ˜¾ç¤ºå½“å‰åˆ†æ”¯å’Œä¿®æ”¹æ–‡ä»¶æ•°é‡
- ğŸ“ **å·¥ä½œåŒºè·¯å¾„**ï¼šæ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•
- âš¡ **æ™ºèƒ½ç¼“å­˜**ï¼š30ç§’ç¼“å­˜æœºåˆ¶ï¼Œé¿å…é¢‘ç¹APIè°ƒç”¨
- ğŸ”„ **è‡ªåŠ¨åˆ·æ–°**ï¼šæ”¯æŒä¼šè¯ç»“æŸæ—¶è‡ªåŠ¨åˆ·æ–°ç§¯åˆ†
- ğŸ”„ **æ™ºèƒ½é‡ç½®**ï¼šç§¯åˆ†ä¸è¶³æ—¶è‡ªåŠ¨è§¦å‘é‡ç½®ï¼Œæ¢å¤å¯ç”¨ç§¯åˆ†

## ğŸ“¦ å®‰è£…æ­¥éª¤

### 1. ä» GitHub æ‹‰å–ä»£ç åˆ° .claude æ ¹ç›®å½•

```bash
# è¿›å…¥ Claude Code é…ç½®ç›®å½•
cd ~/.claude

# ä» GitHub æ‹‰å–é¡¹ç›®ä»£ç 
git clone https://github.com/your-repo/cc-aicodemirror-statusline-plus.git .
```

### 2. é…ç½® settings.json

åœ¨ `~/.claude/settings.json` ä¸­æ·»åŠ çŠ¶æ€æ é…ç½®ï¼š

#### Windows ç³»ç»Ÿé…ç½®ï¼š

```json
{
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node \"%USERPROFILE%\\.claude\\cc-aicodemirror-statusline-plus\\refresh-credits.js\""
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "node \"%USERPROFILE%\\.claude\\cc-aicodemirror-statusline-plus\\credit-status.js\"",
    "padding": 0
  }
}
```

#### Linux/macOS ç³»ç»Ÿé…ç½®ï¼š

```json
{
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node ~/.claude/cc-aicodemirror-statusline-plus/refresh-credits.js"
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "node ~/.claude/cc-aicodemirror-statusline-plus/credit-status.js",
    "padding": 0
  }
}
```

### 3. è·å–å¹¶é…ç½® Cookie

#### æ­¥éª¤ 1ï¼šç™»å½• claudecode-cn.com

1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® https://www.claudecode-cn.com/dashboard
2. ä½¿ç”¨ä½ çš„è´¦å·ç™»å½•

#### æ­¥éª¤ 2ï¼šè·å– Cookie

1. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° **Network** æ ‡ç­¾é¡µ
3. åˆ·æ–°é¡µé¢ (`F5` æˆ– `Ctrl+R`)
4. åœ¨ç½‘ç»œè¯·æ±‚ä¸­æ‰¾åˆ° aicodemirror ä»»æ„è¯·æ±‚
5. ç‚¹å‡»è¯¥è¯·æ±‚ï¼Œåœ¨å³ä¾§é¢æ¿ä¸­æ‰¾åˆ° **Request Headers**
6. å¤åˆ¶ `Cookie` å­—æ®µçš„å®Œæ•´å€¼

#### æ­¥éª¤ 3ï¼šä¿å­˜ Cookie

```bash
# è¿›å…¥ .claude æ ¹ç›®å½•
cd ~/.claude

# ä¿å­˜ Cookieï¼ˆæ›¿æ¢ä¸ºä½ çš„å®é™… Cookie å€¼ï¼‰
node save-cookie.js "ä½ çš„Cookieå­—ç¬¦ä¸²"
```

æˆåŠŸä¿å­˜åä¼šæ˜¾ç¤ºï¼š
```
âœ… Cookieå·²ä¿å­˜åˆ°: /path/to/aicodemirror-config.json
ğŸ“ Cookieé•¿åº¦: xxxx å­—ç¬¦

ğŸ§ª æ­£åœ¨æµ‹è¯•...
æµ‹è¯•ç»“æœ: ğŸ’ 12345(Claude 4 Sonnet) | session-storage | main(2) | /path/to/project
âœ… æµ‹è¯•æˆåŠŸï¼
ğŸ‰ ç°åœ¨é‡å¯Claude Codeå³å¯çœ‹åˆ°çŠ¶æ€æ ç§¯åˆ†æ˜¾ç¤º
```

### 4. é‡å¯ Claude Code

ä¿å­˜é…ç½®åï¼Œé‡å¯ Claude Code å³å¯åœ¨çŠ¶æ€æ çœ‹åˆ°ç§¯åˆ†ä¿¡æ¯ã€‚

## ğŸ“Š çŠ¶æ€æ æ˜¾ç¤ºæ ¼å¼

çŠ¶æ€æ æ˜¾ç¤ºæ ¼å¼ï¼š`[è®¡åˆ’å›¾æ ‡] [ç§¯åˆ†](æ¨¡å‹) | [è¾“å‡ºé£æ ¼] | [åˆ†æ”¯å](ä¿®æ”¹æ–‡ä»¶æ•°) | [å·¥ä½œåŒºè·¯å¾„]`

### ç¤ºä¾‹æ˜¾ç¤º

```
ğŸ’ 12345(Claude 4 Sonnet) | session-storage | main(3) | /Users/username/project
```

### å›¾æ ‡è¯´æ˜

| è®¡åˆ’ç±»å‹ | å›¾æ ‡ | è¯´æ˜ |
|---------|-----|------|
| ULTRA   | ğŸ‘‘  | æ——èˆ°ç‰ˆ |
| MAX     | ğŸ’  | æœ€é«˜ç‰ˆ |
| PRO     | â­  | ä¸“ä¸šç‰ˆ |
| FREE    | ğŸ†“  | å…è´¹ç‰ˆ |
| æœªç™»å½•   | ğŸª  | éœ€è¦Cookie |
| é”™è¯¯    | ğŸ”´  | æ•°æ®å¼‚å¸¸ |

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### aicodemirror-config.json

æ’ä»¶é…ç½®æ–‡ä»¶ï¼ŒåŒ…å« Cookie å’Œç¼“å­˜æ•°æ®ï¼š

```json
{
  "cookies": "ä½ çš„Cookieå­—ç¬¦ä¸²",
  "credits_cache": {
    "data": {
      "userId": 1001489,
      "email": null,
      "credits": 14661,
      "plan": "MAX"
    },
    "timestamp": 1755704131.115
  },
  "creditThreshold": 1000,
  "autoResetEnabled": true
}
```

**æ–°å¢é…ç½®è¯´æ˜ï¼š**
- `creditThreshold`: ç§¯åˆ†é‡ç½®è§¦å‘é˜ˆå€¼ï¼Œå½“ç§¯åˆ†ä½äºæ­¤å€¼æ—¶è§¦å‘é‡ç½®ï¼ˆé»˜è®¤ï¼š1000ï¼‰
- `autoResetEnabled`: æ˜¯å¦å¯ç”¨è‡ªåŠ¨ç§¯åˆ†é‡ç½®åŠŸèƒ½ï¼ˆé»˜è®¤ï¼štrueï¼‰

### ç¯å¢ƒå˜é‡æ”¯æŒ

- `ANTHROPIC_BASE_URL`ï¼šAPI åŸºç¡€åœ°å€ï¼ŒåŒ…å« `claudecode-cn.com` æ—¶æ‰æ˜¾ç¤ºç§¯åˆ†
- `ANTHROPIC_MODEL`ï¼šå½“å‰æ¨¡å‹ï¼Œä¼˜å…ˆçº§é«˜äºé…ç½®æ–‡ä»¶
- `CLAUDE_OUTPUT_STYLE`ï¼šè¾“å‡ºé£æ ¼ï¼Œä¼˜å…ˆçº§é«˜äºé…ç½®æ–‡ä»¶

## ğŸ’° ç§¯åˆ†é‡ç½®æœºåˆ¶

### å·¥ä½œåŸç†
å½“ Claude Code ä¼šè¯ç»“æŸæ—¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨æ£€æŸ¥ç§¯åˆ†ä½™é¢ã€‚å¦‚æœç§¯åˆ†ä½äºè®¾å®šé˜ˆå€¼ï¼Œå°†è‡ªåŠ¨è°ƒç”¨ claudecode-cn.com çš„ç§¯åˆ†é‡ç½®æ¥å£ã€‚

### è§¦å‘æ¡ä»¶
ç§¯åˆ†é‡ç½®**ä»…åœ¨ä»¥ä¸‹æ¡ä»¶åŒæ—¶æ»¡è¶³æ—¶è§¦å‘**ï¼š
1. **åŠŸèƒ½å¯ç”¨**ï¼š`autoResetEnabled` ä¸º `true`ï¼ˆé»˜è®¤å¼€å¯ï¼‰
2. **ç§¯åˆ†ä¸è¶³**ï¼šå½“å‰ç§¯åˆ† < è®¾å®šé˜ˆå€¼ï¼ˆé»˜è®¤100ï¼‰
3. **ä¼šè¯ç»“æŸ**ï¼šClaude Code åœæ­¢å¯¹è¯æ—¶ï¼ˆHook Stop è§¦å‘ï¼‰

### é…ç½®ç®¡ç†
```json
{
  "creditThreshold": 100,      // è§¦å‘é˜ˆå€¼ï¼Œå¯è‡ªå®šä¹‰
  "autoResetEnabled": true      // åŠŸèƒ½å¼€å…³ï¼Œå¯éšæ—¶å…³é—­
}
```

**è°ƒæ•´é˜ˆå€¼**ï¼šä¿®æ”¹ `creditThreshold` å€¼ï¼Œæ¯”å¦‚è®¾ä¸º `500` æˆ– `2000`
**ç¦ç”¨åŠŸèƒ½**ï¼šè®¾ç½® `autoResetEnabled: false`

### å®‰å…¨ç‰¹æ€§
- **é™é»˜æ‰§è¡Œ**ï¼šä¸äº§ç”Ÿä»»ä½•è¾“å‡ºï¼Œä¸å½±å“çŠ¶æ€æ æ˜¾ç¤º
- **é”™è¯¯é™é»˜**ï¼šç½‘ç»œé”™è¯¯æˆ–æ¥å£å¼‚å¸¸ä¸ä¼šå½±å“æ­£å¸¸ä½¿ç”¨
- **æ— é‡è¯•æœºåˆ¶**ï¼šé¿å…æ„å¤–çš„é‡å¤è§¦å‘
- **å³æ—¶è§¦å‘**ï¼šæ£€æµ‹åˆ°æ¡ä»¶æ»¡è¶³ç«‹å³æ‰§è¡Œ

### âš ï¸ ä½¿ç”¨é¡»çŸ¥
1. **è´¦å•å½±å“**ï¼šç§¯åˆ†é‡ç½®å¯èƒ½äº§ç”Ÿè´¹ç”¨ï¼Œè¯·ç¡®è®¤ä½ çš„ä»˜è´¹è®¡åˆ’
2. **è‡ªåŠ¨æ‰§è¡Œ**ï¼šåŠŸèƒ½å¯ç”¨åä¼šåœ¨åå°è‡ªåŠ¨è¿è¡Œï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„
3. **ç½‘ç»œä¾èµ–**ï¼šéœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥è®¿é—® claudecode-cn.com
4. **Cookieæœ‰æ•ˆæ€§**ï¼šç¡®ä¿è®¤è¯ Cookie æœªè¿‡æœŸ

## ğŸ› ï¸ è„šæœ¬è¯´æ˜

### credit-status.js
ä¸»è¦çŠ¶æ€æ è„šæœ¬ï¼Œè´Ÿè´£ï¼š
- è·å–ç§¯åˆ†ä¿¡æ¯
- æ£€æµ‹å½“å‰æ¨¡å‹å’Œé…ç½®
- æ˜¾ç¤º Git çŠ¶æ€
- æ ¼å¼åŒ–è¾“å‡ºä¿¡æ¯

### save-cookie.js
Cookie ä¿å­˜å·¥å…·ï¼Œæä¾›ï¼š
- ç®€å•çš„å‘½ä»¤è¡Œç•Œé¢
- Cookie éªŒè¯æµ‹è¯•
- é…ç½®æ–‡ä»¶ç®¡ç†

### refresh-credits.js
ç§¯åˆ†åˆ·æ–°è„šæœ¬ï¼Œç”¨äºï¼š
- ä¼šè¯ç»“æŸæ—¶å¼ºåˆ¶åˆ·æ–°ç§¯åˆ†ç¼“å­˜
- ç§¯åˆ†ä¸è¶³æ—¶è‡ªåŠ¨è§¦å‘é‡ç½®æœºåˆ¶
- é™é»˜æ‰§è¡Œï¼Œä¸å½±å“çŠ¶æ€æ æ˜¾ç¤º
- ä½œä¸º stopHook ä½¿ç”¨

## ğŸ” æ•…éšœæ’é™¤

### 1. çŠ¶æ€æ ä¸æ˜¾ç¤ºç§¯åˆ†

**æ£€æŸ¥é¡¹ç›®ï¼š**
- ç¡®è®¤ `ANTHROPIC_BASE_URL` åŒ…å« `claudecode-cn.com`
- æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š`~/.claude/aicodemirror-config.json`
- éªŒè¯ Cookie æ˜¯å¦æœ‰æ•ˆï¼ˆé‡æ–°è·å–ï¼‰

**è§£å†³æ–¹æ³•ï¼š**
```bash
# æ£€æŸ¥é…ç½®æ–‡ä»¶
cat ~/.claude/aicodemirror-config.json

# é‡æ–°æµ‹è¯• Cookie
cd ~/.claude
node save-cookie.js "æ–°çš„Cookieå­—ç¬¦ä¸²"
```

### 2. æ˜¾ç¤º"ğŸª éœ€è¦Cookie"

**åŸå› ï¼š** Cookie æ— æ•ˆæˆ–å·²è¿‡æœŸ

**è§£å†³æ–¹æ³•ï¼š**
1. é‡æ–°ç™»å½• claudecode-cn.com
2. æŒ‰ç…§ä¸Šè¿°æ­¥éª¤é‡æ–°è·å– Cookie
3. ä½¿ç”¨ `save-cookie.js` é‡æ–°ä¿å­˜

### 3. æ˜¾ç¤º"ğŸ”´ æ•°æ®è§£æå¤±è´¥"

**å¯èƒ½åŸå› ï¼š**
- ç½‘ç»œè¿æ¥é—®é¢˜
- API è¿”å›æ ¼å¼å˜åŒ–
- Cookie æ ¼å¼é”™è¯¯

**è§£å†³æ–¹æ³•ï¼š**
```bash
# æ‰‹åŠ¨æµ‹è¯•ç½‘ç»œè¿æ¥
curl -H "Cookie: ä½ çš„Cookie" https://www.claudecode-cn.com/api/user/credits

# é‡æ–°è·å–Cookie
node save-cookie.js "æ–°Cookie"
```

### 4. Git ä¿¡æ¯ä¸æ˜¾ç¤º

**åŸå› ï¼š** å½“å‰ç›®å½•ä¸æ˜¯ Git ä»“åº“

**è§£å†³æ–¹æ³•ï¼š**
```bash
# æ£€æŸ¥æ˜¯å¦ä¸ºGitä»“åº“
git status

# å¦‚æœéœ€è¦ï¼Œåˆå§‹åŒ–Gitä»“åº“
git init
```

### 5. æ¨¡å‹ä¿¡æ¯ä¸å‡†ç¡®

**æ£€æŸ¥ä¼˜å…ˆçº§ï¼š**
1. ç¯å¢ƒå˜é‡ `ANTHROPIC_MODEL`
2. `~/.claude/settings.json` ä¸­çš„ `model` å­—æ®µ
3. æ ¹æ® `ANTHROPIC_BASE_URL` æ¨æ–­

**è§£å†³æ–¹æ³•ï¼š**
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $ANTHROPIC_MODEL

# æ£€æŸ¥é…ç½®æ–‡ä»¶
cat ~/.claude/settings.json | grep model
```

## ğŸ”„ æ›´æ–° Cookie

å½“ Cookie è¿‡æœŸæ—¶ï¼ˆé€šå¸¸æ¯éš”ä¸€æ®µæ—¶é—´ï¼‰ï¼Œä½ éœ€è¦é‡æ–°è·å–ï¼š

1. æµè§ˆå™¨é‡æ–°ç™»å½• claudecode-cn.com
2. æŒ‰ F12 -> Network -> åˆ·æ–° -> æ‰¾åˆ° `/api/user/credits` è¯·æ±‚
3. å¤åˆ¶æ–°çš„ Cookie å€¼
4. è¿è¡Œï¼š`node save-cookie.js "æ–°çš„Cookieå­—ç¬¦ä¸²"`
5. é‡å¯ Claude Code

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **éšç§å®‰å…¨**ï¼šCookie åŒ…å«è®¤è¯ä¿¡æ¯ï¼Œè¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦åˆ†äº«ç»™ä»–äºº
2. **ç¼“å­˜æœºåˆ¶**ï¼šç§¯åˆ†ä¿¡æ¯ä¼šç¼“å­˜30ç§’ï¼Œé¿å…é¢‘ç¹APIè°ƒç”¨
3. **ç½‘ç»œè¦æ±‚**ï¼šéœ€è¦èƒ½å¤Ÿè®¿é—® claudecode-cn.com çš„ç½‘ç»œç¯å¢ƒ
4. **ç‰ˆæœ¬å…¼å®¹**ï¼šæ”¯æŒ Node.js 14+ ç‰ˆæœ¬

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªæ’ä»¶ï¼

## ğŸ“„ è®¸å¯è¯

MIT License